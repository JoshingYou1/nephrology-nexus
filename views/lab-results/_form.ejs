<section class="lab-results-page" role="region">
    <div class="lab-results-container">
        <%- include ../layouts/messages.ejs %>
        <form class="lab-results-form" role="form" method="POST" 
                action="/clinics/<%= clinicId %>/patients/<%= patientId %>/lab-results/<%- formMethod == 'PUT' ? result._id : '' %>">
                <% if (formMethod == 'PUT') { %>
                    <input type="hidden" name="_method" value="PUT">
                    <input type="hidden" name="_id" value="<%= result._id %>">
                <% } %>
            <fieldset class="lab-results-data" name="lab-results-data">
                <legend></legend>
                <input type="hidden" name="patient" value="<%= patientId %>">

                <div class="draw-date-div">
                    <label class="draw-date-label" for="date">Draw Date:</label>
                    <input class="draw-date-input" placeholder="11/11/2011" type="date" name="date" id="date" pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}"
                        value="<%- formMethod == 'PUT' ? result.formatHtml5Date : '' %>" required>
                </div>

                <fieldset class="hematology-data" name="hematology">
                    <legend class="hematology-legend">Hematology</legend>
                    <div class="grid-md-3">
                        <div class="box-md-col-1">         
                            <label class="wbc-count-label" for="wbc-count">WBC Count</label>
                            <input class="wbc-count-input" placeholder="5.97" type="number" name="hematology.wbcCount" id="wbc-count" step="0.01"
                                pattern="\d+(\.\d{2})?" value="<%- formMethod == 'PUT' ? result.hematology.wbcCount : '' %>" required>
                        </div>
                        <div class="box-md-col-2">
                            <label class="rbc-count-label" for="rbc-count">RBC Count</label>
                            <input class="rbc-count-input" placeholder="4.28" type="number" name="hematology.rbcCount" id="rbc-count" step="0.01"
                                pattern="\d+(\.\d{2})?" value="<%- formMethod == 'PUT' ? result.hematology.rbcCount : '' %>" required>
                        </div>
                        <div class="box-md-col-3">
                            <label class="hemoglobin-label" for="hemoglobin">Hemoglobin</label>
                            <input class="hemoglobin-input" placeholder="11.1" type="number" name="hematology.hemoglobin" id="hemoglobin" step="0.1"
                                pattern="\d+(\.\d{1})?" value="<%- formMethod == 'PUT' ? result.hematology.hemoglobin : '' %>" required>
                        </div>
                        <div class="box-md-col-1">
                            <label class="hematocrit-label" for="hematocrit">Hematocrit</label>
                            <input class="hematocrit-input" placeholder="33.8" type="number" name="hematology.hematocrit" id="hematocrit" step="0.1"
                                pattern="\d+(\.\d{1})?" value="<%- formMethod == 'PUT' ? result.hematology.hematocrit : '' %>" required>
                        </div>
                        <div class="box-md-col-2">
                            <label class="platelet-count-label" for="platelet-count">Platelet Count</label>
                            <input class="platelet-count-input" placeholder="207" type="number" name="hematology.plateletCount" id="platelet-count"
                                step="1" min="1" value="<%- formMethod == 'PUT' ? result.hematology.plateletCount : '' %>" required>
                        </div>
                    </div>
                </fieldset>

                <fieldset class="chemistry-data" name="chemistry">
                    <legend class="chemistry-legend">Chemistry</legend>
                    <div class="grid-md-3">
                        <div class="box-md-col-1">
                            <label class="bun-label" for="bun">BUN</label>
                            <input class="bun-input" placeholder="44" type="number" name="chemistry.bun" id="bun" step="1" min="1"
                                value="<%- formMethod == 'PUT' ? result.chemistry.bun : '' %>" required>
                        </div>
                        <div class="box-md-col-2">
                            <label class="creatinine-label" for="creatinine">Creatinine</label>
                            <input class="creatinine-input" placeholder="8.42" type="number" name="chemistry.creatinine" id="creatinine" step="0.01"
                                pattern="\d+(\.\d{2})?" value="<%- formMethod == 'PUT' ? result.chemistry.creatinine : '' %>" required>
                        </div>
                        <div class="box-md-col-3">
                            <label class="sodium-label" for="sodium">Sodium</label>
                            <input class="sodium-input" placeholder="137" type="number" name="chemistry.sodium" id="sodium" step="1" min="1"
                                value="<%- formMethod == 'PUT' ? result.chemistry.sodium : '' %>" required>
                        </div>
                        <div class="box-md-col-1">
                            <label class="potassium-label" for="potassium">Potassium</label>
                            <input class="potassium-input" placeholder="4.1" type="number" name="chemistry.potassium" id="potassium" step="0.1"
                                pattern="\d+(\.\d{1})?" value="<%- formMethod == 'PUT' ? result.chemistry.potassium : '' %>" required>
                        </div>
                        <div class="box-md-col-2">
                            <label class="calcium-label" for="calcium">Calcium</label>
                            <input class="calcium-input" placeholder="10.3" type="number" name="chemistry.calcium" id="calcium" step="0.1"
                                pattern="\d+(\.\d{1})?" value="<%- formMethod == 'PUT' ? result.chemistry.calcium : '' %>" required>
                        </div>
                        <div class="box-md-col-3">
                            <label class="phosphorus-label" for="phosphorus">Phosphorus</label>
                            <input class="phosphorus-input" placeholder="4.6" type="number" name="chemistry.phosphorus" id="phosphorus" step="0.1"
                                pattern="\d+(\.\d{1})?" value="<%- formMethod == 'PUT' ? result.chemistry.phosphorus : '' %>" required>
                        </div>
                        <div class="box-md-col-1">
                            <label class="albumin-label" for="albumin">Albumin</label>
                            <input class="albumin-input" placeholder="4.2" type="number" name="chemistry.albumin" id="albumin" step="0.1"
                                pattern="\d+(\.\d{1})?" value="<%- formMethod == 'PUT' ? result.chemistry.albumin : '' %>" required>
                        </div>
                        <div class="box-md-col-2">
                            <label class="glucose-label" for="glucose">Glucose</label>
                            <input class="glucose-input" placeholder="77" type="number" name="chemistry.glucose" id="glucose" step="1" min="1"
                                value="<%- formMethod == 'PUT' ? result.chemistry.glucose : '' %>" required>
                        </div>
                        <div class="box-md-col-3">
                            <label class="iron-label" for="iron">Iron</label>
                            <input class="iron-input" placeholder="67" type="number" name="chemistry.iron" id="iron" step="1" min="1"
                                value="<%- formMethod == 'PUT' ? result.chemistry.iron : '' %>" required>
                        </div>
                        <div class="box-md-col-1">
                            <label class="cholesterol-label" for="cholesterol">Cholesterol</label>
                            <input class="cholesterol-input" placeholder="194" type="number" name="chemistry.cholesterol" id="cholesterol" step="1"min="0"
                                value="<%- formMethod == 'PUT' ? result.chemistry.cholesterol : '' %>" required>
                        </div>
                        <div class="box-md-col-2">
                            <label class="triglycerides-label" for="triglycerides">Triglycerides</label>
                            <input class="triglycerides-input" placeholder="128" type="number" name="chemistry.triglycerides" id="triglycerides" step="1"min="0"
                                value="<%- formMethod == 'PUT' ? result.chemistry.triglycerides : '' %>" required>
                        </div>
                    </div>
                </fieldset>
            </fieldset>
            <button type="submit" class="lab-results-form-button">Submit</button>
        </form>
    </div>
</section>